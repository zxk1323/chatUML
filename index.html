<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chatUML</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function checkSettings() {
            const apiKey = localStorage.getItem('apiKey');
            const aiModel = localStorage.getItem('aiModel');

            if (!apiKey || !aiModel) {
                alert('è¯·å…ˆåœ¨è®¾ç½®é¡µé¢é…ç½® API Key å’Œæ¨¡å‹ã€‚');
                location.href = 'settings.html';
                return false;
            }
            return true;
        }

        function sendMessage() {
            if (!checkSettings()) return;

            // æ¨¡æ‹Ÿè¯·æ±‚å¤±è´¥
            const requestSuccess = false;

            if (!requestSuccess) {
                alert('è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ API è®¾ç½®ã€‚');
                location.href = 'settings.html';
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
    </script>
</head>
<body>
    <div class="main-container">
        <div class="sidebar">
            <div class="menu-item" onclick="location.href='index.html'">ğŸ </div>
            <div class="menu-item" onclick="location.href='settings.html'">âš™ï¸</div>
        </div>
        <div class="grid-container">
            <div class="chat-panel">
                <div class="message">ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„ ChatUML åŠ©æ‰‹ï¼æˆ‘å¯ä»¥å¸®ä½ ç»˜åˆ¶ UML å›¾ã€‚</div>
                <div class="input-box">
                    <input type="text" placeholder="ç»™ GPT å‘é€ä¿¡æ¯ Enter å‘é€ï¼Œ Shift Enter æ¢è¡Œ" onkeypress="handleKeyPress(event)">
                </div>
            </div>
            <div class="uml-preview">
                <h2>UML ç»“æœé¢„è§ˆåŒº</h2>
            </div>
            <div class="plantuml-syntax">
                <h2>plantUML è¯­æ³•é¢„è§ˆåŒº</h2>
            </div>
        </div>
    </div>
</body>
</html> 